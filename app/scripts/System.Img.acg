{"html":"<div class=\"imageViewer\"><i class=\"fa fa-circle-o-notch fa-spin\"></i><img ng-if=\"image\" ng-src=\"{{image}}\" /></div>","css":".imageViewer i\n{    \n    position: absolute;\n    top: 50%;\n    margin-top: -30px;\n}\n\n.imageViewer{\n   \ttext-align: center; \n}","js":"(function(){ //return object inside an anonymous function\n  return {\n    title:\"System.Dir\",\n    fa:\"fa-folder\",\n    //img:\"link\", //Use img for image or fa for icon from fontawesome.\n    bind:{\n        contextmenu: [{\n          \textension: \"png\",\n            title:\"Open\",\n            action: function(extensionid, targets, path, $injector){\n                CBapi.createWindow(extensionid, targets[0]);\n            },\n            fa:\"fa-file-image-o\"\n        },\n        {\n          \textension: \"jpg\",\n            title:\"Open\",\n            action: function(extensionid, targets, path, $injector){\n                CBapi.createWindow(extensionid, targets[0]);\n            },\n            fa:\"fa-file-image-o\"\n        }],\n      \tclick:[\n            {\n                extension: \"jpg\",\n                action: function(extensionid, args){\n                    CBapi.createWindow(extensionid, args);\n                }\n            },\n            {\n                extension: \"png\",\n                action: function(extensionid, args){\n                    CBapi.createWindow(extensionid, args);\n                }\n            }\n        ]\n    },\n    oninstall: function($injector){\n      \t$injector.get(\"IconManager\").addIcon(\"png\",\"fa\",\"fa fa-file-image-o\");\n      \t$injector.get(\"IconManager\").addIcon(\"jpg\",\"fa\",\"fa fa-file-image-o\");\n    },\n    window:{ //Default\n      \ttitle:\"Image Viewer\", //scope.window.title\n      \tfa:\"fa-file-image-o\",\n      \timg:null,\n    },\n    controller: function(scope, element, attrs, $injector){ //use controller if you have window.\n      \t//You will recieve 4 objects as arguments\n      \t//Scope will be your scope, js...\n\t\t//Element will be the target dom element\n\t\t//Attr will be your attributes if defined\n\t\t//$Injector will help you to inject modules in to your controller\n      \t$injector.get(\"StorageLibrary\").readFileAs64(scope.args.path, function(base64Str){\n          \telement[0].querySelector(\"i\").remove();\n\t\t\tscope.image = \"data:image/\"+ scope.args.extension + \";base64,\" + base64Str;\n\t\t});\n      \telement.bind(\"mousedown\", function(e){\n        \te.stopPropagation();\n        });\n    }\n  };\n})();","name":"System.Img","category":"Media","_id":"5845b7ba00a2b6234c60c341","newCreated":false}